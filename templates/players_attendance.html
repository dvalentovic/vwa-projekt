{% extends "base.html" %}
{% block title %}HrÃ¡Äi & dochÃ¡dzka{% endblock %}

{% block content %}
<div class="page">
  <div class="page__header">
    <div class="page__titles">
      <span class="page__kicker">TeamHub</span>
      <h2 class="page__title">HrÃ¡Äi & dochÃ¡dzka</h2>
      <p class="page__subtitle">PrehÄ¾ad ÃºÄasti na trÃ©ningoch.</p>
    </div>
  </div>

  <div class="card">
    {% if players|length == 0 %}
      <p>Å½iadni hrÃ¡Äi na zobrazenie.</p>
    {% else %}
      <div style="overflow:auto;">
        <table class="table">
          <thead>
            <tr>
              <th>HrÃ¡Ä</th>
              <th>TrÃ©ningy</th>
              <th>âœ… Ãno</th>
              <th>âŒ Nie</th>
              <th>ğŸ¤” MoÅ¾no</th>
              <th>â€” NezadanÃ©</th>
              <th>% ÃºÄasÅ¥</th>
            </tr>
          </thead>
          <tbody>
            {% for p in players %}
              {% set total = p.trainings_total %}
              {% set yes = p.yes_count %}
              {% set pct = (100 * yes / total) if total else 0 %}
              <tr>
                <td><strong>{{ p.username }}</strong></td>
                <td>{{ total }}</td>
                <td>{{ p.yes_count }}</td>
                <td>{{ p.no_count }}</td>
                <td>{{ p.maybe_count }}</td>
                <td>{{ p.missing_count }}</td>
                <td>{{ "%.0f"|format(pct) }}%</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}
